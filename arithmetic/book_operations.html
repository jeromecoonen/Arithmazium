<!doctype html>
<html class="no-js" lang="">
<head>
  <meta charset="utf-8">
  <title>Arithmazium</title>
  <meta name="description" content="/Users/jeromecoonen/amaze/Arithmazium/arithmetic/book_operations.html">
  <meta name='viewport' content='width=device-width, initial-scale=1'>
  <meta name='theme-color' content='#fafafa'>
  <link rel='stylesheet' href='../css/normalize.css'>
  <link rel='stylesheet' href='../css/main.css'>
  <link rel='stylesheet' href='../css/para.css'>
  <link rel='stylesheet' href='../css/numbers.css'>
  <link href='https://fonts.googleapis.com/css?family=Days One' rel='stylesheet'>
  <link href='https://fonts.googleapis.com/css?family=Roboto Mono' rel='stylesheet'>
  <link href='https://fonts.googleapis.com/css?family=Fira Code' rel='stylesheet'>
  <link href='https://fonts.googleapis.com/css?family=Work Sans:bold,400,600,700,800' rel='stylesheet'>
  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS_SVG">
  </script>
</head>
<body>
  <div>
  <svg viewbox='0 0 1000 80' xmlns='http://www.w3.org/2000/svg'>
  <a class="para-ban" href='../index.html'>
  <rect x=0 y=0 width=1000 height=80 class='arith-ban-box'/>
  <text x=10 y=68 class='arith-ban-back'>
  <tspan>11.001001000011111101101010100010001000</tspan>
  </text>
  <text x='60' y='55' class='arith-ban-front'>
  <tspan>Arithmazium</tspan>
  </text>
  </a>
  </svg>
  </div>
  <div class='next-prev'>
  <a href='book_ideal_result.html' class='next round'>Next</a>
  <a href='aaaarithmetic_toc.html' class='tree round'>Home</a>
  <a href='book_special_values.html' class='previous round'>Previous</a>
  </div>


<h1>Operations</h1>

<p>
Most programming environments provide the four
<em>rational</em> functions:
<ul>
  <li><code>add(x, y)</code> &ndash; \( x + y \) </li>
  <li><code>sub(x, y)</code> &ndash; \( x - y \) </li>
  <li><code>mul(x, y)</code> &ndash; \( x \times y \) </li>
  <li><code>div(x, y)</code> &ndash; \( x / y \) </li>
</ul>
The functional notation simplifies discussion
of the operations below.
It's common to program using
<em>infix</em> epxressions
like <code>x * y</code>.
One powerful alternative is the <em>s-expression</em>
form <code>(* x y)</code> of Scheme and Lisp.
There is even the <em>postfix</em> form of
Forth:</em> <code>x y *</code>.
</p>

<p>
IEEE Standard 754 defines several less obvious, but also
useful functions:
<ul>
  <li><code>sqrt(x)</code> &ndash; \( \sqrt{x} \)</li>
  <li><code>remainder(x, y)</code> &ndash; the (exact)
  remainder left when the full integer value of \( x / y \)
  is computed
  </li>
  <li><code>nextUp(x)</code> &ndash; smallest
  <code>y</code> with <code>x < y</code>
  </li>
  <li><code>nextDown(x)</code> &ndash; largest
  <code>y</code> with <code>y < x</code>
  </li>
  <li><code>scaleB(x, n)</code> &ndash;
  \( x \times 2^{n} \)
  </li>
  <li><code>logB(x)</code> &ndash; satisfies
  <code>1.0 <= scaleB(x, -logB(x)) < 2.0</code>
  </li>
  <li><code>copysign(x, y)</code> &ndash; value <code>y</code>
  with sign of <code>x</code>
  </li>
  <li><code>abs(x)</code> &ndash; <code>x</code>
  with positive sign
  </li>
  <li><code>neg(x)</code> &ndash; <code>x</code>
  with its sign reversed
  </li>
</ul>
</p>

<h2>Converting to and from floating point</h2>

<p>
Many programming environments have explicit integer
data types. Converting to floating point
from an integer type falls
ritht into the pattern of any arithmetic operation.
Converting from floating point to an integer type
requires spefication for values outside the range
of integers, such as happens with huge values,
\( \infty \), and NaN.
</p>

<p>
Converting between floating point and string formats
depends on the environment. One of the attractions of
decimal floating point is the lack of surprise converting
between everyday decimal and internal decimal forms. Some
environents support display in a radix other than
decimal. These conversions usually appear in software
that can handle the subtleties of formatting.
</p>

<h2>Many more operations</h2>

<p>
Any floating point system is going be a mix
of hardware and software. The fastest systems
are generally those with
the most complete hardware support.
But the conversation about floating point can
be independent of how the features are
implemented.
</p>

<p>
To fill out the discussion, here is the start of
a bottomless list of floating point functions.
Their implementation is usually in software.
In the 1960s and 1970s, numerical software libraries
were of highly variable quality.
Since the arrival of IEEE 754, substantial effort has
gone into refining these functions.
Intel notably broke from convention by providing
elementary function support on its
8087 and subsequent chips.
</p>

<p>
These common functions can be implemented in the same spirit
as the carefully-specified arithmetic
operations. Accuracy is another matter, as we will see.
<ul>
  <li><code>pow(x, y)</code> &ndash; \( x^{y} \)
  </li>
  <li><code>log(x)</code> &ndash; log base \( e \)
  </li>
  <li><code>log1p(x)</code> &ndash; \( log(1 + x) \),
  without adding \( 1 + x \)
  </li>
  <li><code>exp(x)</code> &ndash; \( e^{x} \)
  </li>
  <li><code>expm1(x)</code> &ndash; \( e^{x} - 1 \),
  without computing \( e^{x} \)
  </li>
  <li><code>sin(x)</code>
  </li>
  <li><code>cos(x)</code>
  </li>
  <li><code>tan(x)</code>
  </li>
  <li><code>atan(x)</code>
  </li>
  <li><code>cosh(x)</code> &ndash; hyperbolic cosine
  </li>
  <li><code>tanh(x)</code> &ndash; hyperbolic tangent
  </li>
</ul>

<p>
The subtleties of rounding the <em>transcendental</em>
functions and performing trigonometric argument
reduction modulo \( \pi / n \) are topics
all their own, but we will touch on them here.
</p>

<div class='next-prev'>
<a href='book_ideal_result.html' class='next round'>Next</a>
<a href='aaaarithmetic_toc.html' class='tree round'>Home</a>
<a href='book_special_values.html' class='previous round'>Previous</a>
</div>
<script src="../js/vendor/jquery.js"></script>
<script src="../js/plugins.js"></script>
<script src="../js/main.js"></script>

<!-- Google Analytics: change UA-XXXXX-Y to be your site's ID. -->
<script>
window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
  ga('create', 'UA-165469376-1', 'auto'); ga('set','transport','beacon'); ga('send', 'pageview')
</script>
<script src="https://www.google-analytics.com/analytics.js" async></script>
</<body>

</html>
