<!doctype html>
<html class="no-js" lang="">
<head>
  <meta charset="utf-8">
  <title>Underflow</title>
  <meta name="description" content="/Users/jeromecoonen/amaze/Arithmazium/paranoia/find_precision_big_B_to_nth.html">
  <meta name='viewport' content='width=device-width, initial-scale=1'>
  <meta name='theme-color' content='#fafafa'>
  <link rel='stylesheet' href='../css/normalize.css'>
  <link rel='stylesheet' href='../css/main.css'>
  <link rel='stylesheet' href='../css/para.css'>
  <link href='https://fonts.googleapis.com/css?family=Days One' rel='stylesheet'>
  <link href='https://fonts.googleapis.com/css?family=Roboto Mono' rel='stylesheet'>
  <link href='https://fonts.googleapis.com/css?family=Fira Code' rel='stylesheet'>
  <link href='https://fonts.googleapis.com/css?family=Work Sans' rel='stylesheet'>
  <link href='https://fonts.googleapis.com/css?family=Work Sans:wght@400;800' rel='stylesheet'>
  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS_SVG">
  </script>
</head>
<body>
  <div>
  <svg viewbox='0 0 1000 80' xmlns='http://www.w3.org/2000/svg'>
  <a class="para-ban" href='../index.html'>
  <rect x=0 y=0 width=1000 height=80 class='arith-ban-box'/>
  <text x=10 y=68 class='arith-ban-back'>
  <tspan>11.001001000011111101101010100010001000</tspan>
  </text>
  <text x='60' y='55' class='arith-ban-front'>
  <tspan>Arithmazium</tspan>
  </text>
  </a>
  </svg>
  </div>
  <div class='next-prev'>
  <a href='recalc_radix.html' class='next round'>Next</a>
  <a href='aaapara_toc.html' class='tree round'>Home</a>
  <a href='precision.html' class='previous round'>Previous</a>
  </div>

<h1>find_precision_big_B_to_nth()</h1>

<p>
The docstring sets the stage. We're looking for a value like this.
</p>

<object type="image/svg+xml" data="img/precision_c-auto.svg">
  ------Image------
</object>

<p>
On some binary machines, the returned value might be a
factor of \(2\) too big, depending
on the rounding. This is just the first try.
</p>

<pre><code>def find_precision_big_B_nth(b):
    """Compute the number of B-digits in the arithmetic and the power
    of B sufficient to have the ones place fall off the right.

    Args:
        b: radix
    Returns:
        precision: number of B digits
        power of B such that the low-order digit is the B's place.
    """
</code></pre>

<p>
The loop proceeds as in the discussion in the digit diagrams here
and in the main code thread. Note the comparison here is against
\(1\), which Paranoia assumes to be reliable.
</p>

<div class="math">
<h2>What could go wrong?</h2>
<p>
This code will give
surprising results with log arithmetic. What seem like obvious
computations, such as addition of \(1\), are inexact,
so exact comparison against <code>ONE</code> is fraught with peril.
</p>
</div>

<pre><code>    big_b = ONE
    precision = ZERO
    while True:
        precision = precision + ONE
        big_b = big_b * b
        y = big_b + ONE
        if y - big_b != ONE: break
    return precision, big_b


</code></pre>

<div class='next-prev'>
<a href='recalc_radix.html' class='next round'>Next</a>
<a href='aaapara_toc.html' class='tree round'>Home</a>
<a href='precision.html' class='previous round'>Previous</a>
</div>
<script src="js/vendor/jquery-3.5.1.min.js"></script>
<script src="js/plugins.js"></script>
<script src="js/main.js"></script>

<!-- Google Analytics: change UA-XXXXX-Y to be your site's ID. -->
<script>
window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
  lsga('create', 'UA-165469376-1', 'auto'); ga('set','transport','beacon'); ga('send', 'pageview')
</script>
<script src="https://www.google-analytics.com/analytics.js" async></script>
</<body>

</html>
