<!doctype html>
<html class="no-js" lang="">
<head>
  <meta charset="utf-8">
  <title>Arithmazium</title>
  <meta name="description" content="/Users/jeromecoonen/amaze/Arithmazium/paranoia/initializations.html">
  <meta name='viewport' content='width=device-width, initial-scale=1'>
  <meta name='theme-color' content='#fafafa'>
  <link rel='stylesheet' href='../css/normalize.css'>
  <link rel='stylesheet' href='../css/main.css'>
  <link rel='stylesheet' href='../css/para.css'>
  <link rel='stylesheet' href='../css/numbers.css'>
  <link href='https://fonts.googleapis.com/css?family=Days One' rel='stylesheet'>
  <link href='https://fonts.googleapis.com/css?family=Roboto Mono' rel='stylesheet'>
  <link href='https://fonts.googleapis.com/css?family=Fira Code' rel='stylesheet'>
  <link href='https://fonts.googleapis.com/css?family=Work Sans:bold,400,600,700,800' rel='stylesheet'>
  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS_SVG">
  </script>
</head>
<body>
  <div>
  <svg viewbox='0 0 1000 80' xmlns='http://www.w3.org/2000/svg'>
  <a class="para-ban" href='../index.html'>
  <rect x=0 y=0 width=1000 height=80 class='arith-ban-box'/>
  <text x=10 y=68 class='arith-ban-back'>
  <tspan>11.001001000011111101101010100010001000</tspan>
  </text>
  <text x='60' y='55' class='arith-ban-front'>
  <tspan>Arithmazium</tspan>
  </text>
  </a>
  </svg>
  </div>
  <div class='next-prev'>
  <a href='start_execution.html' class='next round'>Next</a>
  <a href='aaapara_toc.html' class='tree round'>Home</a>
  <a href='open_comment.html' class='previous round'>Previous</a>
  </div>

<h1>Global variables and flags</h1>

<p>
A complex program like Paranoia in standard Basic suffers from a
lack of modularity, but moreso from the blizzard of
global variables with one- and
two-character names. <span class="p">ParaPas</span> and
<span class="p">ParaC</span> introduced more mnemonic names.
<span class="p">ParaPy</span> adopts Pythonic naming
conventions, and factors the code into
functions that isolate values used locally.
</p>

<p>
<code>NUM_TRIALS</code> is the one user-settable parameter in Paranoia.
It governs the number of random tests
that \(x \times y = y \times x\)
and the number of sequential tests of
\( \sqrt{x} \) for monotonicity and at integer \(x\).
Typical values of
<code>NUM_TRIALS</code> can be in the dozens, but the code
defends against absurdly large values. The name
is capitalized by Python convention for constants.
</p>

<p>
<span class="p">ParaPy</span> supports customary flags for more verbose
output and for nonstop execution. Classic <span class="p">ParaBas</span>
delivered its output screen by screen.
</p>

<pre><code>#----START CODE----
# Number of trials in half a dozen random and sequential tests.
NUM_TRIALS = 20
# Set all three flags to False for classic Paranoia flow.
verbose = False
ultra_verbose = False
hasty = True   # When True, skips all user interaction
</code></pre>

<p>
The next globals are counters and status values
that appear throughout the program.
Paranoia classifies issues as Flaws, Defects, Serious Defects, and
Failures. It reports problems as they arise and
provides a summary at the end.
<span class="p">ParaBas</span> sets
milestones to track progress through the tests.
<span class="p">ParaPy</span> follows the same milestone sequence as
the classic. The code also preserves the original sense of
<em>page number</em>, which once corresponded
to <em>screens</em> as the units of
output.
</p>

<p>
There are global counters for errors associated
with \(y ^ {z}\) and error limits for
\( \sqrt{x}\). Two state values
apply to a simple
pseudorandom number generator.
Counters start at 0, but other values are given the
IEEE standard Not-a-Number value, <code>math.nan</code>.
</p>

<pre><code># Declarations of global variables other than CONSTANTS
err_failure = 0   # Indexes into the count and type lists below
err_serious = 1
err_defect = 2
err_flaw = 3
error_count = [0, 0, 0, 0]
error_type = ["Failure", "Serious", "Defect", "Flaw"]
fpecount = 0   # int count of exceptioins detected
milestone = 0   # int progress through the code
page_num = 1   # int vestige of glass tty pages
pow_err_cnt = 0   # int for testing x**y
save_pow_err_cnt = 0   # int for testing x**y
min_sqrt_error = math.nan
max_sqrt_error = math.nan
rand_seed = math.nan
rand_next = math.nan
</code></pre>

<p>
Paranoia delivers qualitative results, too, such as whether
an operation has a guard digit, or what kind of rounding
it provides. The dictionary <code>flags{}</code> gathers up
those findings, which were captured in a fleet of global
variables in <span class="p">ParaBas</span>.
</p>

<pre><code>flags = {
    "mult_guard_digit": False,
    "div_guard_digit": False,
    "add_sub_guard_digit": False,
    "mult_rounding": "other",   # rounded and chopped are the alternatives
    "div_rounding": "other",
    "add_sub_rounding": "other",
    "sqrt_rounding": "other",
    "uses_sticky_bit": False,
    "IEEE": False
}
</code></pre>

<div class='next-prev'>
<a href='start_execution.html' class='next round'>Next</a>
<a href='aaapara_toc.html' class='tree round'>Home</a>
<a href='open_comment.html' class='previous round'>Previous</a>
</div>
<script src="../js/vendor/jquery.js"></script>
<script src="../js/plugins.js"></script>
<script src="../js/main.js"></script>

<!-- Google Analytics: change UA-XXXXX-Y to be your site's ID. -->
<script>
window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
  ga('create', 'UA-165469376-1', 'auto'); ga('set','transport','beacon'); ga('send', 'pageview')
</script>
<script src="https://www.google-analytics.com/analytics.js" async></script>
</<body>

</html>
